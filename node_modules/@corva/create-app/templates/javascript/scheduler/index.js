const { Corva } = require('@corva/node-sdk');
const Processor = require('./src/processor');

/**
 * @param {import('@corva/node-sdk').ScheduledLambdaEvent} event
 * @param {import('@corva/node-sdk').HandlerContext} context
 */
exports.handler = new Corva().scheduled(async (event, context) => {
  const processor = new Processor({
    apiClient: context.api,
    logger: context.logger,
  });

  await processor.process({ event });
});
