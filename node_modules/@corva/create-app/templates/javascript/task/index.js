const { Corva } = require('@corva/node-sdk');
const Processor = require('./src/processor');

/**
 * @param {import('@corva/node-sdk').Task} event
 * @param {import('@corva/node-sdk').HandlerContext} context
 */
exports.handler = new Corva().task((event, context) => {
  const processor = new Processor({
    apiClient: context.api,
    logger: context.logger,
    config: context.config,
  });

  return processor.process({ event });
});
